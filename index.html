<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 Á´ãÂ±±ÈªëÈÉ® & Âè§Â∑ùÁ•≠ | Ê∑±Ëâ≤Ê®°Âºè (‰ΩèÂÆøÊõ¥Êñ∞Áâà)</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bg: '#020617', // Slate 950
                        surface: '#0f172a', // Slate 900
                        surfaceLight: '#1e293b', // Slate 800
                        primary: '#38bdf8', // Sky 400
                        primaryDim: '#0ea5e9', // Sky 500
                        textMain: '#f8fafc', // Slate 50
                        textSub: '#94a3b8', // Slate 400
                        accent: '#fbbf24', // Amber 400
                        danger: '#ef4444', // Red 500
                        border: '#1e293b', // Slate 800
                    },
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
                    },
                    boxShadow: {
                        'glow': '0 0 20px -5px rgba(56, 189, 248, 0.15)',
                    }
                }
            }
        }
    </script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #020617;
            color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }
        
        .app-card {
            background: #0f172a;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
            border: 1px solid #1e293b;
            transition: transform 0.2s ease;
        }
        
        /* Luggage Alert Box */
        .luggage-box {
            background: linear-gradient(to right, rgba(59, 130, 246, 0.1), rgba(15, 23, 42, 0.0));
            border-left: 4px solid #38bdf8;
        }

        /* Warning Box */
        .warning-box {
            background: linear-gradient(to right, rgba(239, 68, 68, 0.1), rgba(15, 23, 42, 0.0));
            border-left: 4px solid #ef4444;
        }

        /* Festival Box */
        .festival-box {
             background: linear-gradient(to right, rgba(251, 191, 36, 0.1), rgba(15, 23, 42, 0.0));
             border-left: 4px solid #fbbf24;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-up {
            animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Configuration ---
        const CONFIG = {
            weatherApiBase: "https://archive-api.open-meteo.com/v1/archive",
        };

        // --- Data: Coupons ---
        const COUPONS_DATA = [
            { "name": "Bic Camera", "discount": "ÊúÄÈ´òÊäò 17%", "expiry": "2026/8/31", "final_url": "https://www.funtime.com.tw/travelstore/coupon/BicCamera_250820.png", "tags": ["ÈõªÂô®", "Ëó•Â¶ù"], "type": "shopping" },
            { "name": "ÂîêÂêâË®∂Âæ∑", "discount": "ÂÖçÁ®Ö + 5% OFF", "expiry": "ÁÑ°ÊúüÈôê", "final_url": "https://japanportal.donki-global.com/coupon/?ptcd=0076003303", "tags": ["ÈõúË≤®", "Ê∑±Â§ú"], "type": "shopping" },
            { "name": "ÊùæÊú¨Ê∏Ö", "discount": "ÂÖçÁ®Ö + 7% OFF", "expiry": "2025/12/31", "final_url": "https://www.funtime.com.tw/travelstore/coupon/matsumoto_2025.jpg", "tags": ["Ëó•Â¶ù"], "type": "shopping" },
            { "name": "Â§ß‰∏∏ÊùæÂùÇÂ±ã", "discount": "95ÊäòÂÑ™ÊÉ†", "expiry": "2026/8/31", "final_url": "https://www.funtime.com.tw/travelstore/coupon/daimaru_250820.pdf", "tags": ["ÁôæË≤®", "Á≤æÂìÅ"], "type": "department" },
            { "name": "ÊÑõÈõªÁéã Edion", "discount": "ÂÖçÁ®Ö + 7% OFF", "expiry": "2026/12/31", "final_url": "https://www.funtime.com.tw/travelstore/coupon/edion2025.jpg", "tags": ["ÈõªÂô®"], "type": "shopping" },
            { "name": "Sundrug", "discount": "ÊúÄÈ´òÊäò 17%", "expiry": "ÁÑ°ÊúüÈôê", "final_url": "https://www.funtime.com.tw/travelstore/coupon/sundrug%20_funtime.jpg", "tags": ["Ëó•Â¶ù"], "type": "shopping" },
             { "name": "ÂêçÈêµÁôæË≤®", "discount": "ÂÖçÁ®Ö + 5%", "expiry": "2026/02/28", "final_url": "https://www.funtime.com.tw/travelstore/coupon/meitetsu_250516.png", "tags": ["ÂêçÂè§Â±ã", "ÁôæË≤®"], "type": "department" },
        ];

        // --- Data: Itinerary (Updated V52 with Hotels) ---
        const ITINERARY_DATA = [
            {
                id: 1,
                date: "2026-04-15",
                displayDate: "4/15 (‰∏â)",
                title: "ÊäµÈÅîÊù±‰∫¨",
                city: "Êù±‰∫¨ (Tokyo)",
                lat: 35.6895, lon: 139.6917,
                planA: [
                    { time: "20:30", title: "ÊäµÈÅîÊàêÁî∞Ê©üÂ†¥ (NRT)", type: "flight", detail: "ÂÖ•Â¢ÉÊâãÁ∫åÁ¥Ñ 1Â∞èÊôÇ„ÄÇÂª∫Ë≠∞ÂÖàÂ°´Â•Ω Visit Japan Web„ÄÇ" },
                    { 
                        time: "21:30 - 22:15", 
                        title: "Skyliner ÂæÄ‰∏äÈáé/È∂ØË∞∑", 
                        type: "transport", 
                        detail: "Skyliner Ëá≥‰∫¨Êàê‰∏äÈáéÁ´ô (45ÂàÜ)„ÄÇ\nËΩâ‰πò JR Â±±ÊâãÁ∑ö/‰∫¨Êø±Êù±ÂåóÁ∑ö Ëá≥ È∂ØË∞∑Á´ô (1Á´ô)„ÄÇ", 
                        cost: "¬•2,570" 
                    },
                    { time: "23:00", title: "ÂÖ•‰ΩèÊù±Ê®™INNÈ∂ØË∞∑ÈßÖÂâç", type: "hotel", detail: "Check-in ÂæåÁ®ç‰Ωú‰ºëÊÅØ„ÄÇ", highlight: false },
                    { 
                        time: "‚ö†Ô∏è ÈáçË¶Å‰ªªÂãô", 
                        title: "Á¥¢ÂèñÂÆÖÊÄ•‰æøÈÅãÂñÆ", 
                        type: "luggage", 
                        detail: "ÂêëÊ´ÉÊ™ØÁ¥¢Âèñ„ÄåÂÆÖÊÄ•‰æø (Ta-Q-Bin)„ÄçÈÅãÂñÆÔºåÂ°´Â•Ω Day 3 ÂÖ•‰ΩèÁöÑ„ÄêÊù±Ê®™INNÈáëÊ≤¢ÂÖºÂÖ≠ÂúíÈ¶ôÊûóÂùä„ÄëÂú∞ÂùÄ„ÄÇ\nÊòéÊó©ÂØÑÂá∫Â§ßË°åÊùé„ÄÇ" 
                    }
                ],
                planB: null
            },
            {
                id: 2,
                date: "2026-04-16",
                displayDate: "4/16 (Âõõ)",
                title: "Êù±‰∫¨ -> Èï∑Èáé",
                city: "Êù±‰∫¨/Èï∑Èáé",
                lat: 36.6485, lon: 138.1942,
                planA: [
                    { 
                        time: "08:30", 
                        title: "„ÄêÈáçË¶ÅÔºöÂØÑË°åÊùé„Äë", 
                        type: "luggage", 
                        detail: "ÊñºÊù±Ê®™INNÊ´ÉÊ™ØÂ∞áÂ§ßÂñºÂØÑÂæÄÈáëÊæ§„ÄêÊù±Ê®™INNÈáëÊ≤¢ÂÖºÂÖ≠ÂúíÈ¶ôÊûóÂùä„Äë(ÊåáÂÆö 4/17 ÊäµÈÅî)„ÄÇ\nË∫´‰∏äË£ùÂÇôÔºö20-30L ËÉåÂõä (1ÊôöË°£Áâ©„ÄÅË≤¥ÈáçÂìÅ)„ÄÇ‰∏ÄË∫´Ëºï‰æøÔºÅ" 
                    },
                    { 
                        time: "09:00 - 15:00", 
                        title: "Êù±‰∫¨Ëá™Áî±Ê¥ªÂãï", 
                        type: "shop", 
                        detail: "ÂæûÈ∂ØË∞∑Âá∫ÁôºÂæàÊñπ‰æøÔºö\n1. ‰∏äÈáéÂÖ¨Âúí/ÈòøÁæéÊ©´‰∏Å (Ê≠•Ë°åÊàñÈõªËªä1Á´ô)\n2. Ê∑∫ËçâÈõ∑ÈñÄ (ËßÄÂÖâÂÆ¢Ê®°Âºè)\n3. ÈäÄÂ∫ß (È£üÂÄãÈùö Lunch + Shopping)", 
                        highlight: true
                    },
                    { 
                        time: "15:30 - 17:00", 
                        title: "Êñ∞ÂππÁ∑öÔºö‰∏äÈáé -> Èï∑Èáé", 
                        type: "transport", 
                        detail: "ÂæûÈ∂ØË∞∑Êê≠ JR Âõû‰∏äÈáéÁ´ô (ÂÖ•ÈñòÂæåÊâæÊñ∞ÂππÁ∑öÊúàÂè∞)„ÄÇ\nÂåóÈô∏Êñ∞ÂππÁ∑ö Kagayaki (ÂÖâËºùËôü)„ÄÇËªäÁ®ãÁ¥Ñ 90 ÂàÜÈêò„ÄÇ", 
                        cost: "¬•8,000" 
                    },
                    { 
                        time: "17:15 - 18:00", 
                        title: "Â∑¥Â£´ÔºöÈï∑Èáé -> Â§ßÁî∫Ê∫´Ê≥âÈÑâ", 
                        type: "transport", 
                        detail: "Âú®Èï∑ÈáéÁ´ôÊù±Âè£Êê≠ Alpico ÁâπÊÄ•Â∑¥Â£´„ÄÇ\n‚ö†Ô∏è Ê≥®ÊÑèÔºöÂøÖÈ†àÊü•Ê∏ÖÊ•öÂ∞æÁè≠ËªäÊôÇÈñì (ÈÄöÂ∏∏ 19:00 Â∑¶Âè≥)ÔºåÂçÉËê¨‰∏çË¶ÅÂú®Êù±‰∫¨Áé©ÈÅéÈ†≠ÔºÅ",
                        cost: "¬•2,600"
                    },
                    { time: "19:00", title: "ÂÖ•‰ΩèÂ§ßÁî∫Ê∫´Ê≥âÈÑâ", type: "hotel", detail: "‰∫´ÂèóÊ∫´Ê≥âÔºåÊó©Áù°Ê∫ñÂÇôÊòéÂ§©ÁôªÂ±±„ÄÇ" }
                ],
                planB: null
            },
            {
                id: 3,
                date: "2026-04-17",
                displayDate: "4/17 (‰∫î)",
                title: "Á´ãÂ±±ÈªëÈÉ®„ÉªÈõ™‰πãÂ§ßË∞∑",
                city: "Á´ãÂ±± (Alpine Route)",
                lat: 36.5833, lon: 137.6,
                note: "ÁÑ°Ë°åÊùéË≤†Êìî",
                planA: [
                    { 
                        time: "07:30", 
                        title: "Â∑¥Â£´ÂâçÂæÄÊâáÊæ§Á´ô", 
                        type: "transport", 
                        detail: "Á©øË∂äË∑ØÁ∑öËµ∑Èªû„ÄÇ",
                    },
                    { 
                        time: "08:30 - 15:30", 
                        title: "Á©øË∂äÁ´ãÂ±±ÈªëÈÉ®", 
                        type: "transport", 
                        detail: "ÊâáÊæ§ -> ÈªëÈÉ®Ê∞¥Â£© -> ÂÆ§Â†Ç -> ÁæéÂ•≥Âπ≥ -> Á´ãÂ±±Á´ô„ÄÇ\nÂà©Áî® 6 Á®Æ‰∫§ÈÄöÂ∑•ÂÖ∑ÁøªÂ±±Ë∂äÂ∂∫„ÄÇÂõ†ÁÇ∫Ê≤íÂ∏∂Ë°åÊùéÔºåÂèØ‰ª•ËºïÈ¨Ü‰∏ä‰∏ãÊ®ìÊ¢ØÊãçÁÖß„ÄÇ",
                        highlight: true,
                        cost: "Â•óÁ•®"
                    },
                    { time: "10:30 - 12:30", title: "ÂÆ§Â†Ç„ÉªÈõ™‰πãÂ§ßË∞∑", type: "spot", detail: "Êº´Ê≠•Êñº 20 Á±≥È´òÁöÑÈõ™Â£Å‰πãÈñì„ÄÇ", highlight: true },
                    { 
                        time: "16:00 - 17:00", 
                        title: "ÂØåÂ±±Âú∞ÊñπÈêµÈÅì", 
                        type: "transport", 
                        detail: "Á´ãÂ±±Á´ô -> ÈõªÈêµÂØåÂ±±Á´ô„ÄÇ",
                    },
                     { 
                        time: "17:30 - 18:00", 
                        title: "Êñ∞ÂππÁ∑öÔºöÂØåÂ±± -> ÈáëÊæ§", 
                        type: "transport", 
                        detail: "ÂåóÈô∏Êñ∞ÂππÁ∑öÔºåÁ¥Ñ 23 ÂàÜÈêòÂç≥ÈÅî„ÄÇ",
                        cost: "¬•2,860"
                    },
                    { time: "18:30", title: "ÂÖ•‰ΩèÊù±Ê®™INNÈáëÊ≤¢ÂÖºÂÖ≠ÂúíÈ¶ôÊûóÂùä", type: "hotel", detail: "üéâ È©öÂñúÔºö‰Ω†ÁöÑÂ§ßË°åÊùéÂ∑≤Á∂ìÂú®È£ØÂ∫óÊ´ÉÊ™ØÁ≠â‰Ω†‰∫ÜÔºÅ\n‰ΩçÁΩÆÊ•µ‰Ω≥ÔºåÂ∞±Âú®ÂÖºÂÖ≠ÂúíÊóÅÔºåÊòéÊó©ÂèØ‰ª•ËºïÈ¨ÜÊï£Ê≠•ÈÅéÂéª„ÄÇ", highlight: true }
                ],
                planB: [
                    { time: "09:00", title: "ÊùæÊú¨Âüé (Plan B)", type: "spot", detail: "‚òî Ëã•Â±±ÂçÄÂ§©Ê∞£ÊÉ°Âä£ÂÅúÈßõÔºåÊîπÂéªÊùæÊú¨ÂüéÔºåÁÑ∂ÂæåÁõ¥Êé•ÂéªÂêçÂè§Â±ã„ÄÇ" }
                ]
            },
            {
                id: 4,
                date: "2026-04-18",
                displayDate: "4/18 (ÂÖ≠)",
                title: "ÈáëÊæ§Â∞è‰∫¨ÈÉΩ",
                city: "ÈáëÊæ§ (Kanazawa)",
                lat: 36.5613, lon: 136.6562,
                planA: [
                    { time: "09:00 - 11:00", title: "ÂÖºÂÖ≠Âúí", type: "spot", detail: "È£ØÂ∫óÊ≠•Ë°åÂç≥ÈÅî„ÄÇÂà©Áî®Êó©Êô®‰∫∫Â∞ëÊôÇÊÆµË≥ûÊôØ„ÄÇ", highlight: true },
                    { time: "11:00 - 13:00", title: "ËøëÊ±üÁî∫Â∏ÇÂ†¥", type: "food", detail: "ÂçàÈ§êÔºöË±™ËèØÊµ∑ÈÆÆ‰∏º (Ikiiki‰∫≠/Â±±Êï£Ê≠•)„ÄÇ" },
                    { time: "14:00 - 17:00", title: "21‰∏ñÁ¥ÄÁæéË°ìÈ§® / Êù±Ëå∂Â±ãË°ó", type: "spot", detail: "ÂèØ‰ª•ÂéªÁæéË°ìÈ§®ÊâìÂç°Ê≥≥Ê±†ÔºåÊàñÂéªÊù±Ëå∂Â±ãË°óÂñù‰∏ãÂçàËå∂„ÄÇ" },
                    { time: "18:00", title: "ËøîÂõûÈ£ØÂ∫óÂèñË°åÊùé", type: "luggage", detail: "ÂõûÈ¶ôÊûóÂùäÊù±Ê©´INNÂèñÂõûÂ§ßË°åÊùéÔºåÊ∫ñÂÇôÁßªÂãï„ÄÇ" },
                    { time: "18:30 - 19:00", title: "ÁßªÂãïÔºöÈ¶ôÊûóÂùä -> ÈáëÊæ§Á´ô", type: "transport", detail: "Êê≠‰πòÂ∑¥Â£´ÊàñË®àÁ®ãËªäÂâçÂæÄÈáëÊæ§ËªäÁ´ô„ÄÇ" },
                    { time: "19:30", title: "ÂÖ•‰ΩèÊù±Ê®™INNÈáëÊ≤¢ÈßÖÊù±Âè£", type: "hotel", detail: "Check-in ÊîæË°åÊùé„ÄÇÂ∞±Âú®ËªäÁ´ôÊóÅÔºåÊòéÊó©Êê≠Â∑¥Â£´Ë∂ÖÊñπ‰æøÔºÅ", highlight: true },
                    { time: "20:00", title: "ÊôöÈ§êÔºöÈáëÊæ§ÁôæÁï™Ë°ó", type: "food", detail: "Âú®ËªäÁ´ôÂÖßÁöÑ„ÄåÈáëÊæ§ÁôæÁï™Ë°ó„Äç‰∫´Áî®ÊôöÈ§ê (Â¶ÇÔºöÈªëÁôæÂêàÈóúÊù±ÁÖÆ)„ÄÇ" }
                ],
                planB: [
                    { time: "10:00", title: "Âä†Ë≥ÄÊ∫´Ê≥âÈÑâ", type: "spot", detail: "Èõ®Â§©ÂÇôÊ°àÔºöÊ∫´Ê≥â‰∏ÄÊó•ÈÅä„ÄÇ" }
                ]
            },
            {
                id: 5,
                date: "2026-04-19",
                displayDate: "4/19 (Êó•)",
                title: "È£õÈ©íÂè§Â∑ùÁ•≠",
                city: "È´òÂ±±/Âè§Â∑ù",
                lat: 36.1408, lon: 137.2513,
                note: "Á•≠ÂÖ∏ÈáçÈ†≠Êà≤ÔºÅ",
                planA: [
                    { 
                        time: "07:30", 
                        title: "„ÄêÊ•µÈáçË¶ÅÔºöÂØÑË°åÊùéÂéªÂêçÂè§Â±ã„Äë", 
                        type: "luggage", 
                        detail: "È´òÂ±±Á•≠ÊúüÈñìÔºåËªäÁ´ô Locker ÁµïÂ∞çÁàÜÊªøÔºÅ\nË´ãÂú®ÈáëÊæ§È£ØÂ∫ó Check-out ÊôÇÔºåÁõ¥Êé•Â∞áÂ§ßÂñºÂØÑÂæÄÊòéÊôöÂÖ•‰ΩèÁöÑ„ÄêÊù±Ê®™INNÂêçÂè§Â±ãÊ†Ñ„Äë„ÄÇ\nÂè™ÈúÄËÉåËÉåÂåÖ (1ÊôöË°£Áâ©) ËºïË£ùÂéªÈ´òÂ±±ÔºåÈÄôÊ±∫ÂÆöÊúÉÊïë‰∫Ü‰Ω†ÁöÑËÖ∞ÔºÅ" 
                    },
                    { 
                        time: "08:10 - 10:25", 
                        title: "ÊøÉÈ£õÂ∑¥Â£´ÔºöÈáëÊæ§ -> È´òÂ±±", 
                        type: "transport", 
                        detail: "„ÄêÈúÄÈ†êÁ¥Ñ„ÄëÈ¢®ÊôØÂÑ™ÁæéÁöÑË∑ØÁ∑ö„ÄÇ‰∏ÄË∫´Ëºï‰æø‰∏äËªäÔºå‰∏çÁî®ÊìîÂøÉË°åÊùéËâôÊªø„ÄÇ", 
                        cost: "¬•3,600" 
                    },
                    { time: "11:00 - 13:00", title: "È´òÂ±±ËÄÅË°ó", type: "spot", detail: "ÊäµÈÅîÂæå‰∏çÁî®Êâæ LockerÔºåÁõ¥Êé•Âéª‰∏âÁî∫ÈÄöÂêÉÈ£õÈ©íÁâõÂ£ΩÂè∏ÔºåÊÑüÂèóÂè§Ë°óÊ∞õÂúç„ÄÇ", highlight: true },
                    { 
                        time: "13:40 - 14:00", 
                        title: "JRÔºöÈ´òÂ±± -> È£õÈ©íÂè§Â∑ù", 
                        type: "transport", 
                        detail: "ÂâçÂæÄ„Ää‰Ω†ÁöÑÂêçÂ≠ó„ÄãËÅñÂú∞ÔºåÊ∫ñÂÇôÂèÉÂä†Á•≠ÂÖ∏„ÄÇ", 
                    },
                    { time: "14:00 - 17:00", title: "ËÅñÂú∞Â∑°Á¶Æ & Á•≠ÂÖ∏Ê∞õÂúç", type: "spot", detail: "Âè§Â∑ùÁ´ôÂ§©Ê©ã„ÄÅÊ∞£Â§öËã•ÂÆÆÁ•ûÁ§æ„ÄÅÁôΩÂ£ÅÂúüËóèË°ó„ÄÇÊ¨£Ë≥ûË°óÈÅì‰∏äÁöÑ„ÄåÂ±ãÂè∞„Äç„ÄÇ", highlight: true },
                    { time: "17:30", title: "Á•≠ÂÖ∏ÊôöÈ§ê", type: "food", detail: "È´îÈ©óÂè§Â∑ùÁ•≠ÂÖ∏Ë∑ØÈÇäÊî§ (Yatai) ÊàñÁï∂Âú∞È§êÂª≥„ÄÇ" },
                    { 
                        time: "19:00 - 21:00", 
                        title: "üèÆ Âè§Â∑ùÁ•≠ÔºöËµ∑Â§™Èºì", 
                        type: "spot", 
                        detail: "ËßÄÁúãËµ§ËÜäÁî∑ÂÖíÊä¨Â§ßÈºìÈÅäË°åÔºåÊ∞£Ê∞õÊ•µÂ∫¶È´òÊº≤ÔºÅ\n‚ö†Ô∏è Ê≥®ÊÑè‰øùÊöñÔºöÂ§úÊôöÂè™ÊúâÂπæÂ∫¶ÔºåË¶ÅÁ©øÂéöÂ§ñÂ•ó„ÄÇ", 
                        highlight: true 
                    },
                    { 
                        time: "21:30", 
                        title: "ËøîÂõûÈ´òÂ±±", 
                        type: "transport", 
                        detail: "Êê≠ JR Ëá®ÊôÇÂàóËªäËøîÈ´òÂ±± -> ÂÖ•‰ΩèÈ´òÂ±±È£ØÂ∫ó (ËºïË£ù Check-in)„ÄÇ" 
                    }
                ],
                planB: null
            },
            {
                id: 6,
                date: "2026-04-20",
                displayDate: "4/20 (‰∏Ä)",
                title: "ÂêçÂè§Â±ãÊúÄÂæåË°ùÂà∫",
                city: "ÂêçÂè§Â±ã (Nagoya)",
                lat: 35.1815, lon: 136.9066,
                planA: [
                    { time: "08:00 - 09:30", title: "ÂÆÆÂ∑ùÊúùÂ∏Ç", type: "spot", detail: "Ë≤∑ËòãÊûú„ÄÅÂë≥ÂôåÔºåÈ´îÈ©óÁï∂Âú∞ÁîüÊ¥ª„ÄÇ" },
                    { 
                        time: "10:30 - 13:10", 
                        title: "ÁâπÊÄ• Hida -> ÂêçÂè§Â±ã", 
                        type: "transport", 
                        detail: "JR Hida (È£õÈ©íËôü) Wide View„ÄÇËªäÁ®ãÁ¥Ñ 2.5 Â∞èÊôÇ„ÄÇÂõ†ÁÇ∫Ê≤íÂ§ßË°åÊùéÔºåÊê≠ËªäË∂ÖËºïÈ¨ÜÔºÅ", 
                        cost: "¬•6,000" 
                    },
                    { time: "14:00 - 16:30", title: "Â§ßÈ†àÂïÜÂ∫óË°ó", type: "shop", detail: "ÈõúË≤®„ÄÅÂè§Ëëó„ÄÅÈõªÂô®„ÄÇÈÅ©ÂêàÊåñÂØ∂„ÄÇ" },
                    { time: "17:00 - 18:30", title: "Ê¶ÆÂïÜÂúà / Á∂†Ê¥≤21", type: "spot", detail: "‰∏äÁ∂†Ê¥≤21 ÁùáÂ§úÊôØÔºåÂéª HARBS ÂêÉÊ∞¥ÊûúÂçÉÂ±§ËõãÁ≥ï„ÄÇ", highlight: true },
                    { time: "19:30", title: "ÊôöÈ§êÔºöÂêçÂè§Â±ãÂêçÁâ©", type: "food", detail: "Áü¢Â†¥Âë≥ÂôåË±¨Êéí Êàñ ‰∏ñÁïå‰πãÂ±±Â∞áÈõûÁøº„ÄÇ" },
                    { time: "21:00", title: "ÂÖ•‰ΩèÊù±Ê®™INNÂêçÂè§Â±ãÊ†Ñ", type: "hotel", detail: "üéâ Check-in ÊôÇÈ†òÂèñÊò®Â§©ÂæûÈáëÊæ§ÂØÑ‰æÜÁöÑË°åÊùé„ÄÇ\n‰ΩçÊñºÊ¶ÆÂïÜÂúàÔºå‰∫§ÈÄöÊñπ‰æø„ÄÇÂ•ΩÂ•Ω‰ºëÊÅØÔºåÊòéÂ§©ÊòØÊúÄÂæå‰∏ÄÂ§©„ÄÇ", highlight: false }
                ],
                planB: [
                    { time: "14:00", title: "Ë±êÁî∞Áî¢Ê•≠ÊäÄË°ìÁ¥ÄÂøµÈ§®", type: "spot", detail: "Èõ®Â§©ÂÇôÊ°à„ÄÇ" }
                ]
            },
            {
                id: 7,
                date: "2026-04-21",
                displayDate: "4/21 (‰∫å)",
                title: "ÁÜ±Áî∞Á•ûÂÆÆ & ËøîÊ∏Ø",
                city: "ÂêçÂè§Â±ã (Nagoya)",
                lat: 35.1815, lon: 136.9066,
                planA: [
                    { 
                        time: "10:30", 
                        title: "„ÄêÂøÖÂãùÊîªÁï•„Äë", 
                        type: "food", 
                        detail: "Check-out Êù±Ê®™INNÂêçÂè§Â±ãÊ†Ñ (ÂèØÂÖàÂØÑÊîæË°åÊùéÊàñÂ∏∂ÂéªÂêçÂè§Â±ãÁ´ô Locker)„ÄÇ\nÂÖàÂéªËì¨ËêäËªíÁôªË®òÊãøËôüÁ¢ºÁâåÔºåÁÑ∂ÂæåÂéªÈÄõÁ•ûÂÆÆ„ÄÇ",
                        highlight: true 
                    },
                    { time: "11:00 - 12:00", title: "ÁÜ±Áî∞Á•ûÂÆÆ", type: "spot", detail: "ÂèÉÊãúÁ•ûÂäçÔºå‰∫´ÂèóÊ£ÆÊûóÊµ¥„ÄÇ" },
                    { time: "12:30 - 14:00", title: "Ëì¨ËêäËªíÈ∞ªÈ≠öÈ£Ø", type: "food", detail: "ÂøÖÂêÉÊ´ÉÂ°óÈ£Ø (Hitsumabushi) ‰∏âÂêÉ„ÄÇ" },
                    { time: "14:30 - 16:00", title: "ÊúÄÂæåË£úË≤®", type: "shop", detail: "ÂêçÂè§Â±ãÁ´ôÂë®ÈÇä / ÂçÉÈáåÈ¶¨Ëó•Â±Ä„ÄÇ" },
                    { 
                        time: "17:00 - 17:30", 
                        title: "ÂêçÈêµÔºöÂêçÂè§Â±ã -> Ê©üÂ†¥", 
                        type: "transport", 
                        detail: "Œº-SKY (ÂÖ®ËªäÊåáÂÆöÂ∏≠)ÔºåÁ¥Ñ 28 ÂàÜÈêòÁõ¥ÈÅî„ÄÇ", 
                        cost: "¬•1,250" 
                    },
                    { time: "21:00", title: "Ëµ∑È£õËøîÊ∏Ø (HKG)", type: "flight", detail: "CX/UO Flight„ÄÇ" }
                ],
                planB: null
            }
        ];

        // --- Components ---

        const IconWrapper = ({ name, className = "w-5 h-5" }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const WeatherWidget = ({ lat, lon, date }) => {
            const [weather, setWeather] = useState(null);
            
            useEffect(() => {
                const fetchWeather = async () => {
                    const targetYear = 2025;
                    const [y, m, d] = date.split('-');
                    const historyDate = `${targetYear}-${m}-${d}`;
                    const url = `${CONFIG.weatherApiBase}?latitude=${lat}&longitude=${lon}&start_date=${historyDate}&end_date=${historyDate}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia%2FTokyo`;

                    try {
                        const res = await fetch(url);
                        const data = await res.json();
                        if (data.daily) {
                            setWeather({
                                code: data.daily.weather_code[0],
                                max: data.daily.temperature_2m_max[0],
                                min: data.daily.temperature_2m_min[0]
                            });
                        }
                    } catch (e) { console.error(e); }
                };
                if (lat && lon) fetchWeather();
            }, [lat, lon, date]);

            if (!weather) return <div className="text-xs text-slate-500 animate-pulse">ËºâÂÖ•‰∏≠...</div>;

            let icon = "cloud";
            let text = "Â§öÈõ≤";
            if (weather.code <= 3) { icon = "sun"; text = "Êô¥ÊôÇÂ§öÈõ≤"; }
            else if (weather.code <= 67) { icon = "cloud-rain"; text = "ÊúâÈõ®"; }
            else if (weather.code <= 77) { icon = "snowflake"; text = "ÈôçÈõ™"; }

            return (
                <div className="flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-full text-slate-200 border border-slate-700">
                    <IconWrapper name={icon} className="w-4 h-4 text-primary" />
                    <span className="font-bold text-sm">{weather.max}¬∞</span>
                    <span className="text-xs text-slate-400">/ {weather.min}¬∞</span>
                </div>
            );
        };

        // --- Views ---

        const ItineraryView = () => {
            const [currentDayIdx, setCurrentDayIdx] = useState(0);
            const [activePlans, setActivePlans] = useState({});

            const day = ITINERARY_DATA[currentDayIdx];
            const isPlanB = activePlans[day.id] === 'B';
            const currentPlan = isPlanB ? (day.planB || day.planA) : day.planA;

            const togglePlan = () => {
                setActivePlans(prev => ({
                    ...prev,
                    [day.id]: prev[day.id] === 'B' ? 'A' : 'B'
                }));
            };

            const nextDay = () => { if(currentDayIdx < ITINERARY_DATA.length - 1) setCurrentDayIdx(c => c + 1); };
            const prevDay = () => { if(currentDayIdx > 0) setCurrentDayIdx(c => c - 1); };

            return (
                <div className="h-full flex flex-col pb-20">
                    {/* Header */}
                    <div className="bg-slate-950 sticky top-0 z-20 border-b border-slate-800">
                        <div className="px-4 py-3">
                            <h1 className="text-lg font-bold text-white flex items-center gap-2">
                                <IconWrapper name="mountain-snow" className="text-primary w-5 h-5" />
                                2026 Á´ãÂ±±ÈªëÈÉ® & Âè§Â∑ùÁ•≠
                            </h1>
                        </div>
                        
                        {/* Day Tabs */}
                        <div className="flex overflow-x-auto no-scrollbar gap-2 px-4 pb-3 snap-x">
                            {ITINERARY_DATA.map((d, idx) => (
                                <button
                                    key={d.id}
                                    onClick={() => setCurrentDayIdx(idx)}
                                    className={`flex-shrink-0 px-4 py-2 rounded-full flex flex-col items-center min-w-[64px] transition-all snap-center border ${
                                        currentDayIdx === idx 
                                        ? 'bg-primary text-slate-950 border-primary shadow-glow font-bold' 
                                        : 'bg-slate-900 border-slate-800 text-slate-500'
                                    }`}
                                >
                                    <span className={`text-[10px] font-bold tracking-wider ${currentDayIdx === idx ? 'opacity-100' : 'opacity-60'}`}>DAY {idx + 1}</span>
                                    <span className="text-sm font-bold">{d.date.split('-')[2]}</span>
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Content */}
                    <div key={day.id} className="flex-1 px-4 py-6 overflow-y-auto pb-24 animate-slide-up">
                        
                        {/* Day Header */}
                        <div className="flex justify-between items-start mb-6">
                            <div>
                                <div className="flex items-center gap-2 mb-1">
                                    <span className="text-xs font-bold text-primary bg-sky-950/50 px-2 py-0.5 rounded-full border border-sky-900">
                                        {day.city}
                                    </span>
                                    {day.note && <span className="text-xs font-bold text-accent bg-amber-950/30 px-2 py-0.5 rounded-full border border-amber-900/50">{day.note}</span>}
                                </div>
                                <h2 className="text-2xl font-bold text-white">{day.title}</h2>
                                <p className="text-sm text-slate-400 mt-0.5">{day.displayDate}</p>
                            </div>
                            <WeatherWidget lat={day.lat} lon={day.lon} date={day.date} />
                        </div>

                        {/* Plan B Toggle */}
                        {day.planB && (
                            <button 
                                onClick={togglePlan}
                                className={`w-full mb-6 flex items-center justify-center gap-2 py-2 rounded-lg text-xs font-bold transition-all border ${
                                    isPlanB 
                                    ? 'bg-amber-900/30 text-amber-400 border-amber-800' 
                                    : 'bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800'
                                }`}
                            >
                                <IconWrapper name="refresh-cw" className="w-3.5 h-3.5" />
                                {isPlanB ? 'È°ØÁ§∫‰∏≠ÔºöÈõ®Â§©ÂÇôÊ°à' : 'ÂàáÊèõÂÇôÊ°à (Plan B)'}
                            </button>
                        )}

                        {/* Timeline */}
                        <div className="space-y-4 relative pl-2">
                            {/* Line */}
                            <div className="absolute left-[19px] top-4 bottom-4 w-[2px] bg-slate-800 rounded-full"></div>

                            {currentPlan.map((item, i) => (
                                <div key={i} className="relative pl-10">
                                    {/* Icon */}
                                    <div className={`absolute left-0 top-0 w-10 h-10 rounded-full flex items-center justify-center z-10 border-4 border-[#020617] ${
                                        item.type === 'luggage' ? 'bg-primary text-slate-950' :
                                        item.title.includes('Ëµ∑Â§™Èºì') ? 'bg-accent text-slate-950' :
                                        item.highlight ? 'bg-primary text-slate-950' : 'bg-slate-800 text-slate-400'
                                    }`}>
                                        <IconWrapper name={
                                            item.type === 'luggage' ? 'package' :
                                            item.title.includes('Ëµ∑Â§™Èºì') ? 'flame' :
                                            item.type === 'transport' ? 'train-front' : 
                                            item.type === 'food' ? 'utensils' : 
                                            item.type === 'shop' ? 'shopping-bag' : 
                                            item.type === 'hotel' ? 'bed' : 
                                            item.type === 'flight' ? 'plane' : 'map-pin'
                                        } className="w-4 h-4" />
                                    </div>

                                    {/* Card */}
                                    <div className={`app-card p-4 ${item.type === 'luggage' ? 'luggage-box' : item.title.includes('Ëµ∑Â§™Èºì') ? 'festival-box' : ''}`}>
                                        <div className="flex justify-between items-start mb-1">
                                            {item.type !== 'luggage' && <span className="text-xs font-bold text-slate-500 font-mono">{item.time.split(' - ')[0]}</span>}
                                            {item.type === 'luggage' && <span className="text-xs font-bold text-primary">Ë°åÊùéÂ∞çÁ≠ñ</span>}
                                            
                                            {/* ENLARGED MAP BUTTON */}
                                            {item.type !== 'luggage' && item.type !== 'flight' && (
                                                <a 
                                                    href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.title + ' ' + day.city)}`} 
                                                    target="_blank" 
                                                    className="w-12 h-12 flex items-center justify-center bg-slate-800 text-primary rounded-xl border border-slate-700 hover:bg-primary hover:text-slate-950 transition-all shadow-lg shadow-black/20"
                                                >
                                                    <IconWrapper name="map" className="w-6 h-6" />
                                                </a>
                                            )}
                                        </div>
                                        
                                        <h3 className={`text-base font-bold mb-1 ${item.title.includes('Ëµ∑Â§™Èºì') ? 'text-accent' : item.highlight ? 'text-primary' : 'text-slate-200'}`}>{item.title}</h3>
                                        
                                        {/* Content */}
                                        <div className="text-sm text-slate-400 leading-relaxed whitespace-pre-line">
                                            {item.detail}
                                        </div>

                                        {/* Cost Tag */}
                                        {item.cost && (
                                            <div className="mt-3 inline-flex items-center gap-1.5 bg-slate-800 px-2 py-1 rounded text-xs font-bold text-emerald-400 border border-slate-700">
                                                <IconWrapper name="banknote" className="w-3 h-3" />
                                                {item.cost}
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Nav */}
                        <div className="flex justify-between mt-8">
                             <button onClick={prevDay} disabled={currentDayIdx===0} className="px-4 py-2 rounded-lg bg-slate-900 border border-slate-800 text-slate-400 disabled:opacity-30 disabled:border-transparent text-sm font-bold shadow-sm hover:bg-slate-800">
                                ‚Üê Ââç‰∏ÄÂ§©
                            </button>
                            <button onClick={nextDay} disabled={currentDayIdx===ITINERARY_DATA.length-1} className="px-4 py-2 rounded-lg bg-primary text-slate-950 disabled:opacity-50 text-sm font-bold shadow-glow hover:bg-sky-300">
                                ‰∏ã‰∏ÄÂ§© ‚Üí
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const FoodieView = () => {
            const [recommendations, setRecommendations] = useState({});
            const [loading, setLoading] = useState(false);
            
            const fetchRecs = (dayId, city) => {
                setLoading(dayId);
                setTimeout(() => {
                    const mock = {
                        "Êù±‰∫¨": [{n: "AFURI ÂéüÂÆø", t: "ÊüöÂ≠êÈπΩÊãâÈ∫µ"}, {n: "È≥•Ë≤¥Êóè", t: "Â±ÖÈÖíÂ±ã"}, {n: "Harbs", t: "ËõãÁ≥ï"}],
                        "Èï∑Èáé": [{n: "ËçâÁ¨õ", t: "‰ø°Â∑ûËïéÈ∫•È∫µ"}, {n: "ÊòéÊ≤ª‰∫≠", t: "ÈÜ¨Ê±ÅË±¨Êéí‰∏º"}, {n: "ÂÖ´Âπ°Â±ãÁ§í‰∫îÈÉé", t: "‰∏ÉÂë≥Á≤âÁîúÈªû"}],
                        "Á´ãÂ±±": [{n: "ÂÆ§Â†ÇÈ§êÂª≥", t: "ÁôΩËù¶‰∏º"}, {n: "ÊâáÊæ§ Rest House", t: "ÈªëÈÉ®Ê∞¥Â£©ÂíñÂì©"}],
                        "ÈáëÊæ§": [{n: "Mori Mori Â£ΩÂè∏", t: "Ëø¥ËΩâÂ£ΩÂè∏"}, {n: "ÁÆî‰∏Ä", t: "ÈáëÁÆîÂÜ∞Ê∑áÊ∑ã"}, {n: "È∫µÂ±ãÂ§ßÊ≤≥", t: "Âë≥ÂôåÊãâÈ∫µ"}],
                        "È´òÂ±±": [{n: "Âë≥ËóèÂ§©Âúã", t: "È£õÈ©íÁâõÁáíËÇâ"}, {n: "ÂùÇÂè£Â±ã", t: "È£õÈ©íÁâõÂ£ΩÂè∏"}, {n: "Le Midi", t: "ÂçóÁìúÂ∏É‰∏Å"}],
                        "ÂêçÂè§Â±ã": [{n: "ÁÜ±Áî∞Ëì¨ËêäËªí", t: "È∞ªÈ≠öÈ£Ø‰∏âÂêÉ"}, {n: "Áü¢Â†¥Ë±ö", t: "Âë≥ÂôåË±¨Êéí"}, {n: "‰∏ñÁïå‰πãÂ±±Â∞á", t: "ÊâãÁæΩÂÖà"}]
                    };
                    setRecommendations(prev => ({...prev, [dayId]: mock[city.split(' ')[0]] || mock["Êù±‰∫¨"]}));
                    setLoading(false);
                }, 800);
            };

            return (
                <div className="h-full overflow-y-auto pb-24 px-4 py-6">
                    <header className="mb-6">
                        <h2 className="text-2xl font-bold text-white">Â∞ãÂë≥‰πãÊóÖ</h2>
                        <p className="text-sm text-slate-500">AI Êô∫ËÉΩÊé®Ëñ¶Áï∂Êó•Âë®ÈÇäÁæéÈ£ü</p>
                    </header>
                    <div className="space-y-4">
                        {ITINERARY_DATA.map((day) => (
                            <div key={day.id} className="app-card p-5">
                                <div className="flex justify-between items-center mb-4 pb-4 border-b border-slate-800">
                                    <div>
                                        <div className="text-[10px] font-bold tracking-widest text-primary uppercase mb-1">Day {day.id}</div>
                                        <h3 className="font-bold text-slate-200 flex items-center gap-2">
                                            {day.city.split(' ')[0]}
                                        </h3>
                                    </div>
                                    {!recommendations[day.id] && (
                                        <button onClick={() => fetchRecs(day.id, day.city)} disabled={loading===day.id} className="text-xs bg-slate-800 hover:bg-slate-700 px-3 py-1.5 rounded-full text-slate-300 transition-colors flex items-center gap-2 font-bold border border-slate-700">
                                            {loading===day.id ? <IconWrapper name="loader" className="w-3 h-3 animate-spin"/> : <IconWrapper name="sparkles" className="w-3 h-3 text-accent"/>}
                                            Êé®Ëñ¶
                                        </button>
                                    )}
                                </div>
                                
                                {recommendations[day.id] ? (
                                    <div className="grid gap-3">
                                        {recommendations[day.id].map((rec, i) => (
                                            <div key={i} className="flex justify-between items-center bg-slate-950 p-3 rounded-xl border border-slate-800">
                                                <div className="flex items-center gap-3">
                                                    <div className="w-6 h-6 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-slate-400 text-xs font-bold">
                                                        {i+1}
                                                    </div>
                                                    <div>
                                                        <div className="font-bold text-sm text-slate-200">{rec.n}</div>
                                                        <div className="text-xs text-slate-500">{rec.t}</div>
                                                    </div>
                                                </div>
                                                <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(rec.n + ' ' + day.city)}`} target="_blank" className="text-primary hover:scale-110 transition-transform">
                                                    <IconWrapper name="map-pin" className="w-4 h-4" />
                                                </a>
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="py-4 flex flex-col items-center justify-center text-slate-600 gap-1 border-2 border-dashed border-slate-800 rounded-xl">
                                        <IconWrapper name="utensils-crossed" className="w-5 h-5" />
                                        <span className="text-xs">ÈªûÊìäÁîüÊàêÊé®Ëñ¶</span>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const CouponView = () => {
            const [filter, setFilter] = useState("ALL");
            return (
                <div className="h-full overflow-y-auto pb-24 px-4 py-6">
                     <header className="mb-6">
                        <h2 className="text-2xl font-bold text-white mb-4">ÂÑ™ÊÉ†Âà∏</h2>
                        <div className="flex gap-2 overflow-x-auto no-scrollbar">
                            {['ALL', 'Ëó•Â¶ù', 'ÈõªÂô®', 'ÁôæË≤®', 'ÈõúË≤®'].map(tag => (
                                <button key={tag} onClick={() => setFilter(tag)} 
                                    className={`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border ${
                                        filter === tag 
                                        ? 'bg-primary text-slate-950 border-primary' 
                                        : 'bg-slate-900 text-slate-400 border-slate-800'
                                    }`}>
                                    {tag}
                                </button>
                            ))}
                        </div>
                    </header>
                    <div className="grid grid-cols-2 gap-3">
                        {COUPONS_DATA.filter(c => filter === 'ALL' || c.tags.includes(filter)).map((coupon, idx) => (
                            <div key={idx} className="bg-slate-900 rounded-2xl overflow-hidden shadow-sm border border-slate-800 flex flex-col h-56">
                                <div className="h-28 p-4 flex items-center justify-center bg-white relative">
                                    <img src={coupon.final_url} className="max-w-full max-h-full object-contain" />
                                    <span className="absolute top-0 left-0 bg-red-500 text-white text-[9px] font-bold px-2 py-0.5 rounded-br-lg">HOT</span>
                                </div>
                                <div className="p-3 flex-1 flex flex-col justify-between">
                                    <div>
                                        <div className="text-[9px] font-bold text-slate-500 uppercase tracking-wider mb-1">{coupon.tags[0]}</div>
                                        <h3 className="font-bold text-slate-200 text-sm leading-tight line-clamp-2">{coupon.name}</h3>
                                    </div>
                                    <div>
                                        <div className="text-primary font-bold text-xs bg-sky-950/50 px-1.5 py-0.5 rounded w-fit mb-2 border border-sky-900">
                                            {coupon.discount}
                                        </div>
                                        <div className="flex justify-between items-end">
                                            <span className="text-[9px] text-slate-500">~{coupon.expiry}</span>
                                            <a href={coupon.final_url} target="_blank" className="w-6 h-6 rounded-full bg-slate-800 text-white flex items-center justify-center border border-slate-700">
                                                <IconWrapper name="arrow-up-right" className="w-3 h-3" />
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        const App = () => {
            const [tab, setTab] = useState('itinerary');
            return (
                <div className="h-[100dvh] flex flex-col bg-[#020617]">
                    <div className="flex-1 overflow-hidden relative">
                        {tab === 'itinerary' && <ItineraryView />}
                        {tab === 'foodie' && <FoodieView />}
                        {tab === 'coupons' && <CouponView />}
                    </div>

                    <nav className="bg-slate-950 border-t border-slate-800 pb-safe z-50">
                        <div className="flex justify-around items-center h-16 max-w-lg mx-auto">
                            {[
                                { id: 'itinerary', icon: 'map', label: 'Ë°åÁ®ã' },
                                { id: 'foodie', icon: 'utensils', label: 'ÁæéÈ£ü' },
                                { id: 'coupons', icon: 'ticket', label: 'ÂÑ™ÊÉ†' }
                            ].map(item => (
                                <button key={item.id} onClick={() => setTab(item.id)} className={`flex flex-col items-center gap-1 w-16 transition-colors ${tab === item.id ? 'text-primary' : 'text-slate-600'}`}>
                                    <IconWrapper name={item.icon} className={`w-6 h-6 ${tab === item.id ? 'fill-sky-900/40' : ''}`} />
                                    <span className="text-[10px] font-bold">{item.label}</span>
                                </button>
                            ))}
                        </div>
                    </nav>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
